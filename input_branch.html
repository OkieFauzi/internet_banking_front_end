<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Branch Registration</title>
</head>
<body>
    <div id="container">
        <form action="indexx.html" method="get" id="signup">
            <h1>Branch Registration</h1>
            <p>Branch Name :</p>
            <input type="text" name="branch_name" placeholder="Branch Name">
            <br><br>
            <p>City :</p>
            <input type="text" name="city" placeholder="City">
            <br><br>
            <p>Address :</p>
            <textarea name="address">Adress</textarea>              
            <br><br>
            <input type="submit" value="Submit">
        </form>
    </div>
<script>
    const form = document.getElementById('signup');
    const name = form.elements['branch_name'];
    const city = form.elements['city'];
    const address = form.elements['address'];

    form.addEventListener('submit', function(e) {
        e.preventDefault();
        const data = {
                    branch_name: name.value,
                    city: city.value,
                    address: address.value,
                };
        fetch('http://127.0.0.1:5000/branch/new',{ 
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            method: "POST",
            body: JSON.stringify(data)
        }).then(response => console.log(response));
    });
</script>
</body>
</html>